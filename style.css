@font-face {
	font-family: 'titlefont';
	font-display: block;
	src: url('titlefont.ttf');
}
@keyframes spin { 100% { transform:rotate(360deg); } }
@keyframes dotty { 0% { content: ''; }  25% { content: '.'; }  50%  { content: '..'; }  75% { content: '...'; }  100% { content: ''; } }
@keyframes spriteanim { from { background-position: top; } to { background-position: bottom; } }
@keyframes creditsanim { 0% { background-position-y: 0% } 50% { background-position-y: 100% } 100% { background-position-y: 0% } }

@media (max-width: 62rem) {
	.area, #arrow-between-areas {
		display: block !important;
	}
	.area {
		height: 20rem !important;
	}
	#arrow-between-areas:after {
		font-size: 3rem !important;
		content: '▼' !important;
	}
	#output-area.hidden, #arrow-between-areas.hidden {
		height: 0 !important; /* allows the credits button to be directly below */
		padding: 0;
		z-index: -99; /* prevents overlapping the credits button */
	}
	#arrow-between-areas.hidden:after {
		content: '' !important; /* prevents overlapping the credits button */
	}
}

@media (max-width: 38rem) {
	#title-container {
		font-size: 2.9vw;
		margin-bottom: 5vw !important;
	}
	.area {
		max-width: 80vw;
	}
	#output-area {
		height: 21.25rem !important;
	}
	.info-frame {
		overflow-x: hidden;
	}
	.info-references {
		margin-inline-start: 0.6em !important;
		max-width: calc(100% - 5rem - 0.6em - 0.5em) !important;
	}
}

body {
	background-color: rgb(206,60,60);
	margin: auto;
	margin-top: 3rem;
	width: fit-content;
	text-align: center;
}
[lang|="ar"], [lang|="az"], [lang|="dv"], [lang|="fa"], [lang|="he"], [lang|="ku"], [lang|="ur"] {
	direction: rtl;
}

#title-container {
	display: block;
	filter: drop-shadow(3px 3px 1px #00000040);
	margin: auto;
	width: fit-content;
	text-align: start;
}
#title-o {
	height: 1.06em;
	vertical-align: bottom;
	margin-left: 0.02em;
}
#title {
	font-size: 3.375em;
	font-family: titlefont;
	text-transform: uppercase;
	text-align: start;
	margin: -0.04em 0 -0.11em 0;
	color: #EBEBEB;
	line-height: 1.09em;
}
#subtitle {
	text-align: end;
	margin-top: 0;
	margin-left: 0.2em;
	margin-right: 0.03em;
	font-family: titlefont;
	color: #EBEBEB;
}

.area {
	vertical-align: middle;
	height: 19.5rem;
	width: 23.75rem;
	display: inline-block;
	margin: auto;
	padding: 0.94em 0.625em;
	border-radius: 1.25rem;
	border-width: 0.19rem;
	/*overflow: hidden;*/
	position: relative;
}

#input-area {
	border-color: #FFFFFF40;
	border-style: dashed;
	background-color: #FFFFFF40;
}
#input-area.first-drop {
	background-image: url("assets/drop-icon.png");
	background-size: 30%;
	background-repeat: no-repeat;
	background-position: center;
	cursor: pointer;
}
#input-area.drag {
	background-color: #FFFFFF80;
	-webkit-user-select: none;
}
#input-area.disabled {
	border-color: transparent;
	background-color: #FFFFFF28;
}

#output-area {
	border-color: transparent;
	border-style: solid;
	transition: opacity 0.6s ease-out;
	background-color: #FFFFFF28;
}

#arrow-between-areas {
	display: inline-block;
	vertical-align: middle;
	transition: opacity 0.6s ease-out;
	margin: auto;
}

#output-area.hidden, #arrow-between-areas.hidden {
	opacity: 0;
	transition-duration: 0s;
}

#arrow-between-areas:after {
	font-size: 5rem;
	color: #FFFFFFA0;
	content: '▸';
}

#rom-container {
	display: inline-block;
	width: 100%;
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
	margin-bottom: 0.125em;
}
#rom-file {
	display: none;
}
#rom-btn {
	min-width: 6em;
	max-height: 1.9em;
	vertical-align: middle;
}
#rom-label {
	cursor: pointer;
	vertical-align: middle;
	margin: 0 0.31em;
}
#input-area.first-drop #rom-label {
	cursor: auto;
	pointer-events: none;
}

#msg-container {
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
	height: 1.5em;
}
#msg.error {
	color: darkred;
}
#msg.error:before {
	content: '✗ ';
}
#msg.warning:before {
	content: '⚠ ';
}
#msg.ok:before {
	content: '✓ ';
}
#msg.loading span {
	vertical-align: middle;
}

.loading-spin {
	width: 1.5em;
	display: inline-block;
	position: relative;
	animation: spin 1s ease-in-out infinite;
	vertical-align: middle;
}
.loading-spin:before {
	width: 0.375em;
	height: 0.375em;
	background-color: #FFFFFFB0;
	border-radius: 3px;
	display: inline-block;
	content: "";
	position: absolute;
	top: 0;
	margin: 0 -0.625em;
}

#input-rom-checksum {
	position: absolute;
	left: 0;
	right: 0;
	bottom: 1rem;
	margin: 0;
	padding: 0 1em;
	overflow-x: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
	font-size: smaller;
	opacity: .8;
}

#patch-select-container {
	margin-bottom: 0.94rem;
}
#patch-select-label {
	margin: 0;
	white-space: nowrap;
	overflow-x: hidden;
	text-overflow: ellipsis;
}
#patch-select {
	width: 90%;
	height: 1.8em;
}
#patch-select > option.unavailable {
	color: grey;
}

#show-all-container {
	white-space: nowrap;
	display: inline-block;
	max-width: 100%;
	overflow-x: hidden;
	text-overflow: ellipsis;
}
#show-all-container > * {
	vertical-align: middle;
}
#show-all-option {
	width: 1.1em;
	height: 1.1em;
	margin: 0.3em 0;
}
.info-frame {
	background-color: #FFFFFF20;
	border-radius: 5px;
	margin: 0.5em 0;
	padding: 0 0.5em;
	position: absolute;
    width: calc(100% - 2.25em);
    top: 4.63rem;
	white-space: nowrap;
}
.info-frame p {
	margin: 0.5rem 0;
	line-height: 1.2em;
}
.info-frame > p {
	padding: 0 0.125em;
}
.info-frame > p:first-child {
	margin-top: 0.5rem;
}
.info-frame > p:last-child {
	margin-bottom: 0.4rem;
}
.info-title {
	font-weight: bold;
	white-space: normal;
	-webkit-line-clamp: 2;
	line-clamp: 2;
	display: -webkit-box;
	-webkit-box-orient: vertical;
	box-orient: vertical;
	overflow: hidden;
}
.info-boxart {
	width: 5rem;
	height: 5rem;
	object-fit: contain;
	vertical-align: middle;
	filter: drop-shadow(2px 2px 1px #00000030);
}
.info-references {
	margin-inline-start: 1rem;
	max-width: calc(100% - 5rem - 1rem - 0.5em);
	text-align: start;
	display: inline-block;
	vertical-align: middle;
}
.info-boxart, .info-references {
	margin-bottom: 0.5rem;
}
.info-references:empty {
	display: none;
}
.info-references > p {
	max-width: fit-content;
	font-size: min(1em,4vw);
}
.info-references > p > * {
	display: block;
	white-space: nowrap;
	overflow-x: hidden;
	overflow-y: visible;
	text-overflow: ellipsis;
}
.info-references > p:first-child {
	margin-top: 0;
}
.info-references > p:last-child {
	margin-bottom: 0;
}
.info-version-label *:first-child:before {
	content: '💡 ';
	display: inline-block;
}
.info-website a:before {
	content: '🌐 ';
	display: inline-block;
}
.info-link-host {
	display: block;
	font-size: smaller;
	text-align: center;
	margin: -0.125rem 0;
}
.info-doc a:before {
	content: '📄 ';
	display: inline-block;
}
.info-frame p.info-nb-uses {
	line-height: 1.2em;
	max-width: 100%;
	overflow: hidden;
	text-overflow: ellipsis;
	font-size: min(1em,4vw);
}

.info-loading > span:not(:last-child):after {
	display: inline-block;
	animation: dotty steps(1,end) 1s infinite;
	content: '';
	width: 1em;
	text-align: start;
	opacity: .5;
}

input[type=button], button {
	font-size: larger;
}

#apply-btn {
	font-weight: bold;
	width: 16em;
	max-width: 100%;
	height: 2em;
	position: absolute;
	left: 0;
	right: 0;
	bottom: 1rem;
	margin: auto;
}

#animation-container {
	width: 17.5rem;
	max-width: 100vw;
	height: 4.25rem;
	overflow: hidden;
	margin: auto;
	display: flex;
	justify-content: center;
	margin-top: -2.125rem;
	margin-bottom: -0.25rem;
	-webkit-mask-image: linear-gradient(to right, transparent 0%, black 20%, black 80%, transparent 100%);
	mask-image: linear-gradient(to right, transparent 0%, black 20%, black 80%, transparent 100%);
}

#animation {
	margin: auto;
	width: 100%;
	min-width: 17.5rem;
	height: 100%;
	image-rendering: pixelated;
	background-repeat: no-repeat;
	background-size: 100%;
	animation-name: spriteanim;
	animation-iteration-count: infinite;
}

#about-btn {
	display: block;
	margin: 2.5rem;
}
#about-close-btn {
	top: 0;
	z-index: 99;
	font-weight: bold;
	font-size: 2.2rem;
	cursor: pointer;
	position: sticky;
	text-align: right;
	height: 0;
	margin-right: 0.875rem;
	line-height: 1.875rem;
}
#about-close-btn:hover {
	color: rgb(234, 183, 73);
}

#about-window-layer {
	position: fixed;
	left: 0;
	top: 0;
	width: 100%;
	height: 100%;
	background-color: #00000090;
}
#about-window {
	/*left: 50%;
	transform: translate(-50%,-50%);*/
	top: 50%;
	left: 0;
	right: 0;
	transform: translateY(-50%);
	text-align: start;
	background-color: #8F2A2B;
	color: white;
	opacity: .94;
	position: fixed;
	width: fit-content;
	max-width: min(45rem,90vw);
	max-height: 80vh;
	overflow-x: hidden;
	overflow-y: auto;
	margin: auto;
	padding: 0.5em 0;
	box-shadow: 0 0 0.7em #BBBBBB;
	border-radius: 0.63rem;
	border: 0.25rem solid white;
}
#about-window-inside {
	min-height: 100%;
	position: relative;
	overflow-y: auto;
}
#about-window-layer.closed-credits, #about-window.closed-credits {
	visibility: hidden;
}
#about-window a {
	color: rgb(234, 183, 73);
}
#credits-staff, #about-side {
	margin: 0 1.25rem;
}
#credits-logo {
	margin-top: 0.625rem;
	width: 12.5rem;
}
#credits-staff {
	float: inline-start;
	width: fit-content;
}
#credits-staff h2 {
	margin: 0.7em 0;
}
#credits-staff dt {
	margin-top: 0.5em;
}
#about-side {
	display: block;
	overflow: hidden;
	min-width: 12rem;
	padding-top: 1em;
	margin-bottom: 1.9rem;
}
#about-side select {
	width: 100%;
}
#about-version {
	position: absolute;
	bottom: 0;
	padding: 0 1.5rem;
	width: 100%;
	box-sizing: border-box;
	text-align: end;
}
#credits-animation {
  position: relative;
  top: 0.13em;
  margin: 0 0.25em;
  width: 1em;
  height: 1.3125em; /*ratio 16:21*/
  display: inline-block;
  image-rendering: pixelated;
  background-image: url("anim/saturn.png");
  background-repeat: no-repeat;
  background-size: 100%;
  animation-iteration-count: infinite;
  animation-name: creditsanim;
  animation-duration: 1s;
  animation-timing-function: steps(1);
}
